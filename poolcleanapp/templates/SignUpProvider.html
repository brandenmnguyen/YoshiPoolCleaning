<!DOCTYPE html>
{% load static %}
<html lang="en">


<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Provider SignUp page</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <link rel="stylesheet" href="{% static 'SignUpProvider.css' %}">

</head>


<body>
    <h1 id="header">Create your account as a provider</h1>
    <form class="form-signin" method="POST">
        {% csrf_token %}
        <div class="fullScreen">
            <div class="formHalf">
                <div class="row">
                    <div class="col">
                        <label for="companyName">Company Name</label>
                        <input type="text" class="form-control" placeholder="Company Name" aria-label="Company Name"
                            id="companyName" name="company_name" required>
                    </div>
                    <div class="col">
                        <label for="companyaddress">Company Address</label>
                        <input type="text" class="form-control" placeholder="Company Address"
                            aria-label="Company Address" id="companyAddress" name="company_address" required>
                    </div>
                </div>
                <div class="row">
                    <div class="col">
                        <label for="companyEmail">Company Email</label>
                        <input type="email" class="form-control" placeholder="Company Email" aria-label="company email"
                            id="companyEmail" name ="company_email" required>
                    </div>
                    <div class="col">
                        <label for="companyPhone">Company Phone Number</label>
                        <input type="number" class="form-control" placeholder="Company Phone Number"
                            aria-label="CompanyPhonenumber" id="companyPhone" name="company_phone" required>
                    </div>
                </div>
                <div class="row">
                    <div class="col">
                        <label for="companyPassword">Password</label>
                        <input type="password" class="form-control" placeholder="Password" aria-label="password"
                            id="companyPassword" name="company_pw" required>
                    </div>
                </div>
            </div>

            <div class="imagePool">

                <img src="{% static 'banner.jpg' %}" alt="" class="imagePoolSize">
            </div>

            <script>
                function registerCompany() {
                    // Get input values
                    var companyName = document.getElementById("companyName").value;
                    var companyAddress = document.getElementById("companyAddress").value;
                    var companyPhone = document.getElementById("companyPhone").value;
                    var companyEmail = document.getElementById("companyEmail").value;
                    var companyPassword = document.getElementById("companyPassword").value;
        
                    // Display input values in the console
                    console.log("Company Name: " + companyName);
                    console.log("Company Address: " + companyAddress);
                    console.log("Company Phone: " + companyPhone);
                    console.log("Company Email: " + companyEmail);
                    console.log("Company Password: " + companyPassword);
        
                    // Prepare data to be sent in the POST request
                    var data = {
                        company_name: companyName,
                        company_address: companyAddress,
                        company_phone: companyPhone,
                        company_email: companyEmail,
                        company_pw: companyPassword
                    };
        
                    // Perform a POST request using the Fetch API
                    fetch('http://127.0.0.1:8000/poolcleanapp/addCompany/', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            // Add any additional headers if needed
                        },
                        body: JSON.stringify(data),
                    })
                        .then(response => response.json())
                        .then(data => {
                            // Handle the response from the server if needed
                            console.log('Success:', data);
                            window.location.href = 'http://127.0.0.1:8000/poolcleanapp/login/';
                        })
                        .catch((error) => {
                            console.error('Error:', error);
                        });
                }
                function sendInfo() {
        
                }
            </script>


        </div>


        <button href="#" class="btn signUpButton rounded-pill" onclick ="registerCompany()" type="submit">Sign Up</a>

    </form>
</body>


</html>