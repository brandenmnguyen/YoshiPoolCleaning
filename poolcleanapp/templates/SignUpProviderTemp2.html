<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Company Registration</title>
</head>
<body>

    <h1>Company Registration</h1>

    <form id="companyRegistrationForm">
        <label for="companyName">Company Name:</label>
        <input type="text" id="companyName" name="company_name" required>

        <br>

        <label for="companyAddress">Company Address:</label>
        <input type="text" id="companyAddress" name="company_address" required>

        <br>

        <label for="companyPhone">Company Phone:</label>
        <input type="tel" id="companyPhone" name="company_phone" required>

        <br>

        <label for="companyEmail">Company Email:</label>
        <input type="email" id="companyEmail" name="company_email" required>

        <br>

        <label for="companyPassword">Company Password:</label>
        <input type="password" id="companyPassword" name="company_pw" required>

        <br>

        <button type="button" onclick="registerCompany()">Register</button>
    </form>

    <script>
        function registerCompany() {
            // Get input values
            var companyName = document.getElementById("companyName").value;
            var companyAddress = document.getElementById("companyAddress").value;
            var companyPhone = document.getElementById("companyPhone").value;
            var companyEmail = document.getElementById("companyEmail").value;
            var companyPassword = document.getElementById("companyPassword").value;

            // Display input values in the console
            console.log("Company Name: " + companyName);
            console.log("Company Address: " + companyAddress);
            console.log("Company Phone: " + companyPhone);
            console.log("Company Email: " + companyEmail);
            console.log("Company Password: " + companyPassword);

            // Prepare data to be sent in the POST request
            var data = {
                company_name: companyName,
                company_address: companyAddress,
                company_phone: companyPhone,
                company_email: companyEmail,
                company_pw: companyPassword
            };

             // Perform a POST request using the Fetch API
             fetch('http://127.0.0.1:8000/poolcleanapp/addCompany/', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    // Add any additional headers if needed
                },
                body: JSON.stringify(data),
            })
            .then(response => response.json())
            .then(data => {
                // Handle the response from the server if needed
                console.log('Success:', data);
                window.location.href = 'http://127.0.0.1:8000/poolcleanapp/providerlogin/';
            })
            .catch((error) => {
                console.error('Error:', error);
            });
        }
        function sendInfo(){
            
        }
    </script>

</body>
</html>
