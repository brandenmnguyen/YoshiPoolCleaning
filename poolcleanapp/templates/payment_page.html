<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Payment</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link href="{% static 'payment_page.css' %}" rel="stylesheet">
</head>
<body>
    <div class="row align-items-center d-flex" style="height: 100vh; background-image: url('PaymentImage.png');">
        <div class="col-md-12 col-lg-8">
            <form method="POST" id="paymentMethod" name="paymentMethod">
                {% csrf_token %}

                <div>
                    <div class="shadow form-check payment-option mt-5 mx-4">
                        <input type="radio" class="form-check-input" name="option" id="option1" value="paypal">
                        <label class="form-check-label" for="option1">
                            <img src="{% static 'PayPal.svg.png' %}" alt="PayPal">
                        </label>
                    </div>
                    <div class="shadow form-check payment-option mt-5 mx-4">
                        <input type="radio" class="form-check-input" name="option" id="option2" value="googlePay">
                        <label class="form-check-label" for="option2">
                            <img src="{% static 'Google_Pay_Logo.svg.png' %}" alt="Google Pay">
                        </label>
                    </div>
                    <div class="shadow form-check payment-option mt-5 mx-4">
                        <input type="radio" name="option" id="option3" class="form-check-input" value="applePay">
                        <label class="form-check-label" for="option3">
                            <img src="{% static '2560px-Apple_Pay_logo.svg.png' %}" alt="Apple Pay">
                        </label>
                    </div>
                    <div class="shadow form-check payment-option my-5 mx-4">
                        <input type="radio" name="option" id="option4" value="manualCard" class="form-check-input" onclick="showInvoiceForm()">
                        <label class="form-check-label" for="option4">
                            <img src="{% static 'Visa_Inc._logo.svg.png' %}" alt="Visa" style="height: 30px;">
                            <img src="{% static 'Mastercard-logo.svg.png' %}" alt="MasterCard">
                            <img src="{% static '2560px-Discover_Card_logo.svg.png' %}" alt="Discover" style="height: 17px;">
                            <img src="{% static 'American_Express_logo_(2018).svg' %}" alt="American Express">
                        </label>
                        <!-- Invoice Form -->
                        <form id="invoiceForm" method="post" style="display: none;">
                            {% csrf_token %}
                            {{ form.as_p }}
                            <input class="btn btn-lg col-8 offset-2 mb-4" type="submit" value="PROCEED TO CHECKOUT">
                    </form>
                    </div>
                </div>
            </form>
        </div>

        <div class="col-lg-4">
            {% if msg %}
            <div class="container">
                <div class="alert alert-warning alert-dismissible fade show" role="alert">
                    {{ msg }}
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
            </div>
            {% endif %}

            <div class="shadow order-summary row my-5 mx-4">
                <h4 class="text-center mb-3 mt-3">
                    <span class="order-title fs-1">Order<br>Summary</span>
                </h4>

                <div class="order-info">
                    <div class="order-info">
                        <ul class="list-group mb-3 px-2">
                            <!-- Customer Name -->
                            <li class="list-group-item d-flex justify-content-between lh-sm">
                                <span>Customer Name:</span>
                                <span>{{ client_fname }} {{ client_lname }}</span>
                            </li>
                            
                            <!-- Company Name -->
                            <li class="list-group-item d-flex justify-content-between lh-sm">
                                <span>Company Name:</span>
                                <span>{{ company_name }}</span>
                            </li>
        
                            <!-- Company Charges -->
                            <li class="list-group-item d-flex justify-content-between lh-sm">
                                <span>Company Charges:</span>
                                <span>${{ company_charges }}</span>
                            </li>
                        </ul>
                    </div>
                </div>
                
                <div class="container">
                    <div class="form-check mb-4" style="display: flex; justify-content: center;">
                        <input class="form-check-input me-2" type="checkbox" value="" id="flexCheckDefault">
                        <label class="form-check-label" for="flexCheckDefault">I understand and agree to the terms and conditions</label>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
    function showInvoiceForm() {
        console.log("Showing Invoice Form");
        var invoiceForm = document.getElementById('invoiceForm');
        if (invoiceForm) {
            invoiceForm.style.display = "block"; // Set display to block to make it visible
        }
    }
    </script>
</body>
</html>
