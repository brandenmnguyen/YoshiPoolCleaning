<!DOCTYPE html>
{% load static %}
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Client SignUp page</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="{% static "SignUpClient.css" %}">
</head>

<body>
    <h1 id="header"><strong>Create your account as a client</strong></h1>
    <div class="fullScreen">
        <div class="formHalf">
            <div class="row">
                <div class="col">
                    <label for="clientfname">First Name</label>
                    <input type="text" class="form-control" placeholder="First name" aria-label="First name"
                        id="clientfname" name="fname" required>
                </div>
                <div class="col">
                    <label for="clientlname">Last Name</label>
                    <input type="text" class="form-control" placeholder="Last name" aria-label="Last name" id="clientlname" name = "lname"
                        required>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <label for="clientemail">Email</label>
                    <input type="email" class="form-control" placeholder="Email" aria-label="email" id="clientemail" name="email" required>
                </div>
                <div class="col">
                    <label for="clientphonenumber">Phone Number</label>
                    <input type="number" class="form-control" placeholder="Phone Number" aria-label="Phonenumber"
                        id="clientphonenumber" name="phone_number" required>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <label for="clientaddress">Address</label>
                    <input type="text" class="form-control" placeholder="Address" aria-label="Address"
                        id="clientaddress" name="address" required>
                </div>
                <div class="col">
                    <label for="client_password">Password</label>
                    <input type="password" class="form-control" placeholder="Password"
                        aria-label="Password" id="client_password" name="cl_password" required>
                </div>
            </div>
        </div>

        <div class="imagePool">

            <img src="{% static "SignUpClientImage.png" %}" alt="" class="imagePoolSize">
        </div>

        <script>
            function registerClient() {
                // Get input values
                var client_fname = document.getElementById("clientfname").value;
                var client_lname = document.getElementById("clientlname").value;
                var client_phonenumber = document.getElementById("clientphonenumber").value;
                var client_email = document.getElementById("clientemail").value;
                var client_password = document.getElementById("client_password").value;
                var client_address = document.getElementById("clientaddress").value;
    
                // Display input values in the console=
                console.log("First Name: " + client_fname);
                console.log("Last Name: " + client_lname);
                console.log("Phone Number: " + client_phonenumber);
                console.log("Email: " + client_email);
                console.log("Password: " + client_password);
                console.log("Address: " + client_address);
    
                // Prepare data to be sent in the POST request
                var data = {
                    fname: client_fname,
                    lname: client_lname,
                    phone_number: client_phonenumber,
                    email: client_email,
                    cl_password: client_password,
                    address: client_address
                };
    
                // Perform a POST request using the Fetch API
                fetch('http://127.0.0.1:8000/poolcleanapp/addClient/', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        // Add any additional headers if needed
                    },
                    body: JSON.stringify(data),
                })
                    .then(response => response.json())
                    .then(data => {
                        // Handle the response from the server if needed
                        console.log('Success:', data);
                        //   window.location.href = 'http://127.0.0.1:8000/poolcleanapp/clienttracking/';
                        
                        window.location.href = 'http://127.0.0.1:8000/poolcleanapp/login/';
                    })
                    .catch((error) => {
                        console.error('Error:', error);
                    });
            }
            function sendInfo() {
    
            }
        </script>



    </div>

    <div class="container"> 
        <a href="#" class="btn signUpButton rounded-pill " onclick ="registerClient()">Sign Up</a>

        <a href="{% url 'providersignup' %}" id="provider">A provider? Sign up
        as a provider</a>

        <img src="{% static "SignUpClientImage2.png" %}" alt="" class="imagePoolSize2">    
        </div>
</body>

</html>